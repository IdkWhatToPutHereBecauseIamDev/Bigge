(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{10351:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INFO",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"frontend",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!e||"string"!=typeof e||0===e.trim().length)return console.error("log: title is required and must be a non-empty string"),!1;if(!t||"string"!=typeof t)return console.error("log: text is required and must be a string"),!1;let a=["ERROR","WARN","INFO","DEBUG"].includes(null==r?void 0:r.toUpperCase())?r.toUpperCase():"INFO",s=e.toLowerCase().replace(/\s+/g,"-"),i=("string"==typeof n?n:String(n||"")).toLowerCase().replace(/\s+/g,"-")||"frontend",c={ip:o.ip||void 0,user:o.user||void 0,session:o.session||void 0,server:o.server||void 0,vm:o.vm||void 0},l=[];for(let[e,t]of Object.entries(c))null!=t&&""!==t&&l.push("".concat(e,":").concat(t));let u=l.length>0?l.join(" "):"",d="".concat(s," | ").concat(t," | ").concat(i).concat(u?" | "+u:"");switch(a){case"ERROR":console.error(d);break;case"WARN":console.warn(d);break;case"DEBUG":console.debug(d);break;default:console.log(d)}return!0}},21808:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(12115),o=r(20063),a=r(9829),s=r(36032);let i="https://".concat("api.browser.lol"),c="rrweb_session_id",l=["/dash/manage"],u="rrweb_canvas_frame_count",d="rrweb_session_start_time";function p(){let{user:e}=(0,n.useContext)(s.E),t=(0,o.usePathname)(),p=(0,n.useRef)(null),f=(0,n.useRef)(null),g=(0,n.useRef)(null),m=(0,n.useRef)([]),h=(0,n.useRef)(null),v=(0,n.useRef)(!1),w=(0,n.useRef)(null),y=(0,n.useRef)(!1),b=(0,n.useRef)(!1),O=(0,n.useRef)(0),R=(0,n.useRef)(0),S=(0,n.useRef)(null),k=(0,n.useRef)(null),I=l.some(e=>null==t?void 0:t.startsWith(e));b.current=I;let A=(0,n.useCallback)(e=>{var t,r;return 3===e.type&&((null==(t=e.data)?void 0:t.source)===6||(null==(r=e.data)?void 0:r.source)===9)},[]),E=(0,n.useCallback)(()=>!!S.current&&Date.now()-S.current>=18e6,[]),_=(0,n.useCallback)((e,t)=>new Promise(r=>{e.emit("events:upload",{events:t},e=>{r((null==e?void 0:e.status)==="ok")})}),[]),P=(0,n.useCallback)(async()=>{let e=p.current,t=m.current;if(!(null==e?void 0:e.connected)||!f.current||0===t.length)return;let r=[...t];m.current=[];let n=0,o=r.map(e=>{let t=JSON.stringify(e).length;return n+=t,t});if(n<=1048576){await _(e,r)||(m.current=[...r,...m.current]);return}let a=[],s=[],i=0;for(let e=0;e<r.length;e++){let t=r[e],n=o[e];if(n>1048576){s.length>0&&(a.push(s),s=[],i=0),a.push([t]);continue}i+n>1048576&&s.length>0?(a.push(s),s=[t],i=n):(s.push(t),i+=n)}s.length>0&&a.push(s);let c=[];for(let t of a){if(!(null==e?void 0:e.connected)){c.push(...t);continue}await _(e,t)||c.push(...t)}c.length>0&&(m.current=[...c,...m.current])},[_]),N=(0,n.useCallback)(()=>{var e,t;let r=null==(t=w.current)||null==(e=t.record)?void 0:e.mirror;if(!r)return 1;let n=document.getElementById("videoCanvas");if(n){let e=r.getId(n);if(e&&-1!==e)return e}let o=r.getId(document.body);return o&&-1!==o?o:1},[]),C=(0,n.useCallback)(()=>{if(!y.current||!f.current)return;let e=Date.now();if(e-O.current<500)return;O.current=e;let t=N();m.current.push({type:3,data:{source:2,type:2,id:t,x:0,y:0},timestamp:e})},[N]),j=(0,n.useCallback)(async()=>{if(y.current||!f.current)return;if(!w.current){let[{record:e},{getRecordConsolePlugin:t}]=await Promise.all([Promise.all([r.e(6020),r.e(5376)]).then(r.bind(r,49540)),Promise.all([r.e(4592),r.e(5376)]).then(r.bind(r,21671))]);w.current={record:e,getRecordConsolePlugin:t}}let{record:e,getRecordConsolePlugin:t}=w.current;g.current=e({emit(e){if(A(e)){if(R.current>=500)return;R.current++;try{sessionStorage.setItem(u,String(R.current))}catch(e){}}m.current.push(e),m.current.length>=100&&P()},recordCanvas:!0,recordCrossOriginIframes:!1,recordAfter:"DOMContentLoaded",sampling:{canvas:.5},dataURLOptions:{type:"image/webp",quality:.4},collectFonts:!0,plugins:[t({level:["log","info","warn","error","debug","assert"],lengthThreshold:1e4,stringifyOptions:{stringLengthLimit:1e3,numOfKeysLimit:100,depthOfLimit:5}})]}),h.current=setInterval(()=>{m.current.length>0&&P()},5e3),k.current=setInterval(()=>{E()&&L()},6e4),y.current=!0},[P,E,A]),L=(0,n.useCallback)(()=>{g.current&&(g.current(),g.current=null),h.current&&(clearInterval(h.current),h.current=null),k.current&&(clearInterval(k.current),k.current=null),m.current.length>0&&P(),y.current=!1},[P]),D=(0,n.useCallback)(()=>{if(!f.current||0===m.current.length)return;let e=new Blob([JSON.stringify({session_id:f.current,events:m.current})],{type:"application/json"});try{navigator.sendBeacon("".concat(i,"/log/events/flush"),e),m.current=[]}catch(e){}},[]),q=(0,n.useCallback)(e=>{let t={userAgent:navigator.userAgent,screenWidth:window.screen.width,screenHeight:window.screen.height,rrwebVersion:"2.0.0-alpha.17",canvasEnabled:!0,consoleEnabled:!0,url:window.location.href,referrer:document.referrer||null};e.emit("session:create",{metadata:t},async e=>{if((null==e?void 0:e.status)==="ok"&&e.session_id){f.current=e.session_id;let t=Date.now();try{sessionStorage.setItem(c,e.session_id),sessionStorage.setItem(u,"0"),sessionStorage.setItem(d,String(t))}catch(e){}R.current=0,S.current=t,b.current||await j()}else v.current=!1})},[j]),x=(0,n.useCallback)(e=>{let t=null;try{t=sessionStorage.getItem(c)}catch(e){}t?e.emit("session:reconnect",{session_id:t},async t=>{if((null==t?void 0:t.status)==="ok"&&t.session_id){f.current=t.session_id;try{let e=sessionStorage.getItem(u);R.current=e?parseInt(e,10):0;let t=sessionStorage.getItem(d);S.current=t?parseInt(t,10):Date.now()}catch(e){R.current=0,S.current=Date.now()}!E()&&(b.current||await j())}else{try{sessionStorage.removeItem(c),sessionStorage.removeItem(u),sessionStorage.removeItem(d)}catch(e){}q(e)}}):q(e)},[q,j,E]);(0,n.useEffect)(()=>{if(!v.current)return(async()=>{v.current=!0;let e=(0,a.io)(i,{path:"/log/socket.io",transports:["websocket"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,reconnectionDelayMax:5e3});p.current=e,e.on("connect",()=>{x(e)}),e.on("disconnect",t=>{L(),f.current=null,"io server disconnect"===t&&e.connect()}),e.on("connect_error",()=>{}),window.addEventListener("beforeunload",D)})(),()=>{window.removeEventListener("beforeunload",D),L(),p.current&&(p.current.disconnect(),p.current=null),f.current=null,v.current=!1}},[x,L,D]),(0,n.useEffect)(()=>{f.current&&(I&&y.current?L():I||y.current||!f.current||j())},[I,j,L]),(0,n.useEffect)(()=>{var t,r,n,o;if(!f.current)return;let a=null==e||null==(t=e.user)?void 0:t.id,s=null!=(n=null==e||null==(r=e.user)?void 0:r.unlock_premium)&&n,i=null!=(o=null==e?void 0:e.loggedIn)&&o,c=p.current;if((null==c?void 0:c.connected)&&a&&c.emit("session:update",{user_id:a}),!y.current)return;let l={type:6,data:{tag:"metadata",payload:{userId:a?String(a):null,premium:String(s),loggedIn:String(i)}},timestamp:Date.now()};m.current.push(l)},[e]);let F=(0,n.useCallback)(e=>{if(!f.current)return;let t=p.current;(null==t?void 0:t.connected)&&t.emit("session:update",{problem:e})},[]);return(0,n.useEffect)(()=>(window.__rrwebInjectActivity=C,window.__rrwebReportProblem=F,()=>{delete window.__rrwebInjectActivity,delete window.__rrwebReportProblem}),[C,F]),null}},26786:e=>{e.exports={style:{fontFamily:"'geistMono', 'geistMono Fallback'"},className:"__className_c3aa02",variable:"__variable_c3aa02"}},36032:(e,t,r)=>{"use strict";r.d(t,{E:()=>u,default:()=>d});var n=r(95155),o=r(12115),a=r(43522),s=r(99776),i=r(38217),c=r(22663);let l=new a.E,u=(0,o.createContext)();function d(e){let{children:t}=e,[r,a]=(0,o.useState)({});return(0,n.jsx)(u.Provider,{value:{user:r,setUser:a},children:(0,n.jsxs)(s.Ht,{client:l,children:[t,(0,n.jsx)(c.l$,{position:"top-center"}),(0,n.jsx)(i.E,{initialIsOpen:!1})]})})}},41290:()=>{},46270:(e,t,r)=>{Promise.resolve().then(r.bind(r,68637)),Promise.resolve().then(r.bind(r,36032)),Promise.resolve().then(r.bind(r,69519)),Promise.resolve().then(r.bind(r,21808)),Promise.resolve().then(r.t.bind(r,85955,23)),Promise.resolve().then(r.t.bind(r,26786,23)),Promise.resolve().then(r.t.bind(r,41290,23))},47992:(e,t,r)=>{"use strict";function n(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];{let t=localStorage.getItem("BACKEND_URL");if(t)return t.startsWith("https://")||t.startsWith("http://")?e?t:t.replace(/^https?:\/\//,""):e?"https://".concat(t):t}return e?"https://".concat("api.browser.lol"):"api.browser.lol"}function o(){return n(!1)}r.d(t,{r:()=>o,w:()=>n})},56724:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var n=r(12115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(o),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,a;n=e,o=t,a=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,i({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:o,size:a,title:c}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),d=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==a?n.createElement(a.Consumer,null,e=>t(e)):t(o)}},60305:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(76648),o=r(22663),a=r(10351);async function s(){let{all:e=!1,queryClient:t=null,socket:r=null,showToast:s=!0,redirect:i=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a=(0,n.A)("/auth/logout","POST",{all:e.toString()});s?await o.Ay.promise(a,{loading:"Logging out...",success:"Successfully logged out!",error:"Failed to logout. Please try again later."}):await a,localStorage.removeItem("auth"),localStorage.removeItem("ident"),localStorage.removeItem("accessToken"),localStorage.removeItem("apiWorkspace"),r&&r.disconnect(),t&&t.refetchQueries("getUserData"),i&&(window.location.href="/auth")}catch(e){s&&o.Ay.error("Logout failed. Please try again."),(0,a.A)("AUTH","Logout error: ".concat(e.message),"ERROR","logout"),localStorage.removeItem("auth"),localStorage.removeItem("ident"),localStorage.removeItem("accessToken"),localStorage.removeItem("apiWorkspace"),r&&r.disconnect(),i&&(window.location.href="/auth")}}},69519:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(12115),o=r(20063);r(36032);var a=r(10351);let s=e=>{let{PUB_ID:t,WEBSITE_ID:r}=e,[s,i]=(0,n.useState)(!1),c=(0,o.usePathname)(),l=(0,n.useCallback)(()=>{let e=localStorage.getItem("ident"),t=localStorage.getItem("apiWorkspace"),r=null;try{r="undefined"!=typeof sessionStorage?sessionStorage.getItem("apiWorkspace"):null}catch(e){}let n=window.location.hostname;return"vmSrv"!==e&&["browser.lol","beta.browser.lol","dgtkvc6n-3000.euw.devtunnels.ms"].includes(n)?"true"===t||"true"===r?((0,a.A)("ADBLOCK","Skipping Ads - API Workspace","INFO","ramp"),!1):!(c.startsWith("/auth")||c.startsWith("/upgrade")||c.startsWith("/b")||c.startsWith("/sso"))||((0,a.A)("ADBLOCK","Skipping Ads - Protected Page","INFO","ramp"),!1):((0,a.A)("ADBLOCK","Skipping Ads - Premium User","INFO","ramp"),!1)},[c]);return(0,n.useEffect)(()=>{if(l())if(s)window.ramp&&window.ramp.que&&window.ramp.que.push(()=>{window.ramp.spaNewPage(c)});else{(0,a.A)("ADBLOCK","Loading Ads...","INFO","ramp"),i(!0),window.ramp=window.ramp||{},window.ramp.que=window.ramp.que||[],window.ramp.passiveMode=!0;let e=document.createElement("script");e.src="https://cdn.intergient.com/".concat(t,"/").concat(r,"/ramp.js"),document.body.appendChild(e),e.onload=()=>{window.ramp.que.push(()=>{window.ramp.spaNewPage(c)})}}},[c,t,r]),null}},76648:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(10351),o=r(47992);async function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{(0,n.A)("api-request","Requesting ".concat(t," to ").concat(e," with options: ").concat(JSON.stringify(r)),"DEBUG","frontend/api");let i=localStorage.getItem("auth"),c=await s(e,t,i,r);if((null==c?void 0:c.status)&&!0===c.forceLogout&&!o){(0,n.A)("api-force-logout","Unauthorized detected. Attempting session refresh...","WARN","frontend/api");let o=await a("/session/create","POST",{},!0);if((null==o?void 0:o.status)==="ok"&&(null==o?void 0:o.key)){(0,n.A)("api-session-refresh","Successfully created a new session after force logout.","INFO","frontend/api"),localStorage.setItem("auth",o.key);let a=localStorage.getItem("auth");return await s(e,t,a,r)}(0,n.A)("api-session-refresh-failed","Failed to create a new session after force logout.","ERROR","frontend/api"),localStorage.removeItem("auth")}return c}catch(o){return(0,n.A)("api-error","Error in fetchApi: ".concat(o.message),"ERROR","frontend/api"),(0,n.A)("api-request-details","Request details: URL=".concat(e,", Method=").concat(t,", Options=").concat(JSON.stringify(r)),"ERROR","frontend/api"),(0,n.A)("api-error-stack","Error stack: ".concat(o.stack||"No stack trace available"),"ERROR","frontend/api"),{status:"error",message:o.message||"An unknown error occurred"}}}async function s(e,t,r,a){let s=null,i="",c=performance.now();try{i="".concat((0,o.w)(),"/v7").concat(e),s="GET"===t?await fetch(i,{method:t,headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}}):await fetch(i,{method:t,headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(a)});let l=await s.json();if(null==l?void 0:l.status){let t=((performance.now()-c)/1e3).toFixed(3);return(0,n.A)("api-success","Request succeeded to ".concat(e," in ").concat(t,"s: ").concat(JSON.stringify(l)),"DEBUG","frontend/api"),(null==l?void 0:l.authToken)&&localStorage.setItem("auth",l.authToken),l}return(0,n.A)("api-failed","Request failed to ".concat(e,": ").concat(JSON.stringify(l)),"WARN","frontend/api"),{status:"error",message:"Invalid server response"}}catch(o){(0,n.A)("api-error","Error in fetchUrl: ".concat(o.message),"ERROR","frontend/api"),(0,n.A)("api-request-details","Request details: URL=".concat(e,", Full URL=").concat("string"==typeof i?i:"Invalid URL",", Method=").concat(t),"ERROR","frontend/api"),(0,n.A)("api-options","Options: ".concat(JSON.stringify(a)),"ERROR","frontend/api"),s&&(0,n.A)("api-response-status","Response status: ".concat(s.status||"N/A"),"ERROR","frontend/api"),(0,n.A)("api-error-stack","Error stack: ".concat(o.stack||"No stack trace available"),"ERROR","frontend/api");let r="Failed to connect to server";return"TypeError"===o.name&&o.message.includes("fetch")?r="Network error: Unable to reach the server. Check your internet connection":"SyntaxError"===o.name?r="Server returned invalid response. Please try again":s?r=s.status>=500?"Server error (".concat(s.status,"). Please try again later"):s.status>=400?"Request failed (".concat(s.status,"). Please check your request"):"Request failed with status ".concat(s.status):o.message&&(r="Connection error: ".concat(o.message)),{status:"error",message:r}}}},85955:e=>{e.exports={style:{fontFamily:"'geistSans', 'geistSans Fallback'"},className:"__className_1e4310",variable:"__variable_1e4310"}}},e=>{e.O(0,[2056,1741,6711,8087,512,6743,2663,4531,6266,2454,4359,8637,8441,1255,7358],()=>e(e.s=46270)),_N_E=e.O()}]);